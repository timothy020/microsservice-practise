07:57:47:035  INFO 30064 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
07:57:48:160  INFO 30064 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f02360cf-64d3-3c91-b3cd-7aafbf878c07
07:57:48:235  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:236  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:237  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:282  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:285  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:286  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:286  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$593/0x0000000801623178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:286  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:289  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:293  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:48:297  INFO 30064 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
07:57:48:355  INFO 30064 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
07:57:48:364  INFO 30064 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
07:57:48:459  INFO 30064 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
07:57:48:573  INFO 30064 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
07:57:48:778  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 6aa2c888-f7fc-4d53-babd-e44e16c1fb67
07:57:48:779  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] RpcClient init label, labels = {module=naming, source=sdk}
07:57:48:781  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
07:57:48:781  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
07:57:48:782  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
07:57:48:782  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Try to connect to server on start up, server: {serverIp = '192.168.10.100', server main port = 8848}
07:57:48:903  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Success to connect to server [192.168.10.100:8848] on start up, connectionId = 1723640181959_192.168.10.1_54080
07:57:48:903  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
07:57:48:903  INFO 30064 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Notify connected event to listeners.
07:57:48:903  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$502/0x00000008014fbcb8
07:57:48:947  INFO 30064 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.10.100:8099
07:57:49:013  INFO 30064 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.10.100:8099,msg:< RegisterTMRequest{applicationId='pay-service', transactionServiceGroup='hmall'} >
07:57:49:286  WARN 30064 --- [NettyClientSelector_TMROLE_1_1] ServiceLoader$InnerEnhancedServiceLoader : Load [io.seata.serializer.hessian.HessianSerializer] class fail. com/caucho/hessian/io/AbstractHessianOutput
07:57:49:318  INFO 30064 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x4de6887a, L:/192.168.10.1:54084 - R:/192.168.10.100:8099]
07:57:49:325  INFO 30064 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 73 ms, version:1.5.2,role:TMROLE,channel:[id: 0x4de6887a, L:/192.168.10.1:54084 - R:/192.168.10.100:8099]
07:57:49:325  INFO 30064 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[pay-service] txServiceGroup[hmall]
07:57:49:344  INFO 30064 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
07:57:49:345  INFO 30064 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
07:57:49:355  INFO 30064 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
07:57:49:356  INFO 30064 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[pay-service] txServiceGroup[hmall]
07:57:49:356  INFO 30064 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
07:57:49:358  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:49:453  INFO 30064 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Receive server push request, request = NotifySubscriberRequest, requestId = 166
07:57:49:458  INFO 30064 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [6aa2c888-f7fc-4d53-babd-e44e16c1fb67] Ack server push request, request = NotifySubscriberRequest, requestId = 166
07:57:49:754  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:49:758  INFO 30064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
07:57:50:129  INFO 30064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
07:57:50:143  INFO 30064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
07:57:50:143  INFO 30064 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
07:57:50:286  INFO 30064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
07:57:50:286  INFO 30064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3228 ms
07:57:50:604  INFO 30064 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
07:57:50:681  INFO 30064 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
07:57:51:090  INFO 30064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
07:57:51:409  INFO 30064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
07:57:51:497  INFO 30064 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.10.100:8099
07:57:51:498  INFO 30064 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.10.100:3306/hm-pay
07:57:51:498  INFO 30064 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.10.100:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.10.100:3306/hm-pay', applicationId='pay-service', transactionServiceGroup='hmall'} >
07:57:51:520  INFO 30064 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x2b58336d, L:/192.168.10.1:54092 - R:/192.168.10.100:8099]
07:57:51:520  INFO 30064 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 21 ms, version:1.5.2,role:RMROLE,channel:[id: 0x2b58336d, L:/192.168.10.1:54092 - R:/192.168.10.100:8099]
07:57:52:019  INFO 30064 --- [main] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
07:57:52:832  INFO 30064 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
07:57:53:515  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 440521b3-9fd8-47d6-b8be-8a08b0d2dc75
07:57:53:515  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] RpcClient init label, labels = {module=naming, source=sdk}
07:57:53:515  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
07:57:53:515  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
07:57:53:515  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
07:57:53:516  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Try to connect to server on start up, server: {serverIp = '192.168.10.100', server main port = 8848}
07:57:53:642  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Success to connect to server [192.168.10.100:8848] on start up, connectionId = 1723640187087_192.168.10.1_54109
07:57:53:642  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
07:57:53:642  INFO 30064 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Notify connected event to listeners.
07:57:53:642  INFO 30064 --- [main] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$502/0x00000008014fbcb8
07:57:53:667  INFO 30064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
07:57:53:676  INFO 30064 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.2.189:8085 register finished
07:57:53:964  INFO 30064 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
07:57:53:968  INFO 30064 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
07:57:53:984  INFO 30064 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
07:57:54:066  INFO 30064 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 10.936 seconds (JVM running for 11.789)
07:57:54:073  INFO 30064 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service, group=DEFAULT_GROUP
07:57:54:074  INFO 30064 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service-local.yml, group=DEFAULT_GROUP
07:57:54:074  INFO 30064 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service.yml, group=DEFAULT_GROUP
07:57:54:196  INFO 30064 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Receive server push request, request = NotifySubscriberRequest, requestId = 169
07:57:54:199  INFO 30064 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Ack server push request, request = NotifySubscriberRequest, requestId = 169
08:00:04:753  INFO 30064 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
08:00:04:753  INFO 30064 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
08:00:04:755  INFO 30064 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
08:00:04:955 DEBUG 30064 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:00:04:984 DEBUG 30064 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825321756454338562(Long)
08:00:05:011 DEBUG 30064 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
08:00:24:252 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:00:24:253 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825321879150313474(Long)
08:00:24:254 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
08:00:24:296 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
08:00:24:300 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1825321882543460354(Long), 1825321879150313474(Long), 1825321882526683138(Long), 1(Long), balance(String), 13700(Integer), 5(Integer), 1(Integer), 2024-08-19T10:00:24.290350600(LocalDateTime)
08:00:24:306 DEBUG 30064 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
08:00:29:791 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.p.mapper.PayOrderMapper.selectById   : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE id=?
08:00:29:791 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.p.mapper.PayOrderMapper.selectById   : ==> Parameters: 1825321882543460354(Long)
08:00:29:808 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.p.mapper.PayOrderMapper.selectById   : <==      Total: 1
08:00:29:810 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> PUT http://user-service/users/money/deduct?pw=123&amount=13700 HTTP/1.1
08:00:29:810 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] user-info: 1
08:00:29:810 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> END HTTP (0-byte body)
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- HTTP/1.1 200 (179ms)
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] connection: keep-alive
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] content-length: 0
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] date: Mon, 19 Aug 2024 00:00:29 GMT
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] keep-alive: timeout=60
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] 
08:00:29:990 DEBUG 30064 --- [http-nio-8085-exec-3] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- END HTTP (0-byte body)
08:00:29:997 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.update     : ==>  Preparing: UPDATE pay_order SET status=?,pay_success_time=? WHERE (id = ? AND status IN (?,?))
08:00:29:998 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.update     : ==> Parameters: 3(Integer), 2024-08-19T08:00:29.991421700(LocalDateTime), 1825321882543460354(Long), 0(Integer), 1(Integer)
08:00:30:001 DEBUG 30064 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.update     : <==    Updates: 1
08:00:30:005  INFO 30064 --- [http-nio-8085-exec-3] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.10.100:5672]
08:00:30:040  INFO 30064 --- [http-nio-8085-exec-3] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6bfc5296:0/SimpleConnection@2ca38767 [delegate=amqp://rabbitmq@192.168.10.100:5672/, localPort= 54586]
08:00:30:426  INFO 30064 --- [nacos-grpc-client-executor-42] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Receive server push request, request = NotifySubscriberRequest, requestId = 182
08:00:30:426  INFO 30064 --- [nacos-grpc-client-executor-42] com.alibaba.nacos.common.remote.client   : [440521b3-9fd8-47d6-b8be-8a08b0d2dc75] Ack server push request, request = NotifySubscriberRequest, requestId = 182
08:01:53:541  WARN 30064 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
08:01:53:541  WARN 30064 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
08:01:53:542  WARN 30064 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
08:01:53:542  WARN 30064 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
08:01:53:610  INFO 30064 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
08:01:53:617  INFO 30064 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
08:01:53:929  INFO 30064 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
08:01:53:929  INFO 30064 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@ca9ffc0[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
08:01:53:929  INFO 30064 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1723640187087_192.168.10.1_54109
08:01:53:932  INFO 30064 --- [nacos-grpc-client-executor-62] c.a.n.c.remote.client.grpc.GrpcClient    : [1723640187087_192.168.10.1_54109]Ignore complete event,isRunning:false,isAbandon=false
08:01:53:943  INFO 30064 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@15c0a8ad[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 63]
08:01:53:948  INFO 30064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
08:01:53:969  INFO 30064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
08:01:53:989  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]
08:01:53:989  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]
08:01:53:989  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]
08:01:53:989  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]
08:01:53:990  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]) will closed
08:01:53:990  INFO 30064 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4de6887a, L:/192.168.10.1:54084 ! R:/192.168.10.100:8099]) will closed
08:01:53:990  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]
08:01:53:991  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]
08:01:53:991  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]
08:01:53:991  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]
08:01:53:991  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]) will closed
08:01:53:991  INFO 30064 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x2b58336d, L:/192.168.10.1:54092 ! R:/192.168.10.100:8099]) will closed
08:02:03:427  INFO 8428 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
08:02:04:285  INFO 8428 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f02360cf-64d3-3c91-b3cd-7aafbf878c07
08:02:04:344  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:344  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:344  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:421  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:426  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:427  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:428  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$593/0x0000000801623178] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:429  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:434  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:439  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:04:443  INFO 8428 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
08:02:04:498  INFO 8428 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
08:02:04:503  INFO 8428 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
08:02:04:574  INFO 8428 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
08:02:04:636  INFO 8428 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
08:02:04:764  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d46152ab-74a1-44ac-a174-5d3e376622cc
08:02:04:764  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] RpcClient init label, labels = {module=naming, source=sdk}
08:02:04:765  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
08:02:04:765  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
08:02:04:766  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
08:02:04:766  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Try to connect to server on start up, server: {serverIp = '192.168.10.100', server main port = 8848}
08:02:04:893  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Success to connect to server [192.168.10.100:8848] on start up, connectionId = 1723640459272_192.168.10.1_54893
08:02:04:893  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
08:02:04:893  INFO 8428 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Notify connected event to listeners.
08:02:04:893  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$502/0x00000008014fbcb8
08:02:04:935  INFO 8428 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.10.100:8099
08:02:04:980  INFO 8428 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.10.100:8099,msg:< RegisterTMRequest{applicationId='pay-service', transactionServiceGroup='hmall'} >
08:02:05:149  WARN 8428 --- [NettyClientSelector_TMROLE_1_1] ServiceLoader$InnerEnhancedServiceLoader : Load [io.seata.serializer.hessian.HessianSerializer] class fail. com/caucho/hessian/io/AbstractHessianOutput
08:02:05:168  INFO 8428 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x00a2a58e, L:/192.168.10.1:54901 - R:/192.168.10.100:8099]
08:02:05:172  INFO 8428 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 42 ms, version:1.5.2,role:TMROLE,channel:[id: 0x00a2a58e, L:/192.168.10.1:54901 - R:/192.168.10.100:8099]
08:02:05:173  INFO 8428 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[pay-service] txServiceGroup[hmall]
08:02:05:184  INFO 8428 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
08:02:05:185  INFO 8428 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
08:02:05:192  INFO 8428 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
08:02:05:192  INFO 8428 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[pay-service] txServiceGroup[hmall]
08:02:05:193  INFO 8428 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
08:02:05:194  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:05:425  INFO 8428 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Receive server push request, request = NotifySubscriberRequest, requestId = 185
08:02:05:428  INFO 8428 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [d46152ab-74a1-44ac-a174-5d3e376622cc] Ack server push request, request = NotifySubscriberRequest, requestId = 185
08:02:05:469  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:05:471  INFO 8428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
08:02:05:721  INFO 8428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
08:02:05:732  INFO 8428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
08:02:05:732  INFO 8428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
08:02:05:845  INFO 8428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
08:02:05:845  INFO 8428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2398 ms
08:02:06:096  INFO 8428 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
08:02:06:152  INFO 8428 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
08:02:06:480  INFO 8428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
08:02:06:741  INFO 8428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
08:02:06:816  INFO 8428 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.10.100:8099
08:02:06:816  INFO 8428 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.10.100:3306/hm-pay
08:02:06:816  INFO 8428 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.10.100:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.10.100:3306/hm-pay', applicationId='pay-service', transactionServiceGroup='hmall'} >
08:02:06:828  INFO 8428 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xcb9d816d, L:/192.168.10.1:54905 - R:/192.168.10.100:8099]
08:02:06:828  INFO 8428 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 10 ms, version:1.5.2,role:RMROLE,channel:[id: 0xcb9d816d, L:/192.168.10.1:54905 - R:/192.168.10.100:8099]
08:02:07:199  INFO 8428 --- [main] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
08:02:07:837  INFO 8428 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 649be8ea-f0ab-4cd8-a256-01f2185c9e05
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] RpcClient init label, labels = {module=naming, source=sdk}
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
08:02:08:395  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Try to connect to server on start up, server: {serverIp = '192.168.10.100', server main port = 8848}
08:02:08:511  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Success to connect to server [192.168.10.100:8848] on start up, connectionId = 1723640463205_192.168.10.1_54916
08:02:08:511  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
08:02:08:511  INFO 8428 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Notify connected event to listeners.
08:02:08:511  INFO 8428 --- [main] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$502/0x00000008014fbcb8
08:02:08:529  INFO 8428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
08:02:08:536  INFO 8428 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.2.189:8085 register finished
08:02:08:797  INFO 8428 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
08:02:08:800  INFO 8428 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
08:02:08:815  INFO 8428 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
08:02:08:894  INFO 8428 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 8.657 seconds (JVM running for 9.551)
08:02:08:899  INFO 8428 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service, group=DEFAULT_GROUP
08:02:08:899  INFO 8428 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service-local.yml, group=DEFAULT_GROUP
08:02:08:900  INFO 8428 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service.yml, group=DEFAULT_GROUP
08:02:09:048  INFO 8428 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Receive server push request, request = NotifySubscriberRequest, requestId = 187
08:02:09:049  INFO 8428 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Ack server push request, request = NotifySubscriberRequest, requestId = 187
08:02:24:634  INFO 8428 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
08:02:24:634  INFO 8428 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
08:02:24:636  INFO 8428 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
08:02:24:850 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:02:24:879 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825322385931288578(Long)
08:02:24:914 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
08:02:24:966 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
08:02:24:970 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1825322388665999361(Long), 1825322385931288578(Long), 1825322388636639234(Long), 1(Long), balance(String), 379500(Integer), 5(Integer), 1(Integer), 2024-08-19T10:02:24.957179800(LocalDateTime)
08:02:24:975 DEBUG 8428 --- [http-nio-8085-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
08:02:30:951 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE id=?
08:02:30:951 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : ==> Parameters: 1825322388665999361(Long)
08:02:30:975 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : <==      Total: 1
08:02:30:978 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> PUT http://user-service/users/money/deduct?pw=123&amount=379500 HTTP/1.1
08:02:30:978 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] user-info: 1
08:02:30:978 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> END HTTP (0-byte body)
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- HTTP/1.1 200 (167ms)
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] connection: keep-alive
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] content-length: 0
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] date: Mon, 19 Aug 2024 00:02:31 GMT
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] keep-alive: timeout=60
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] 
08:02:31:146 DEBUG 8428 --- [http-nio-8085-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- END HTTP (0-byte body)
08:02:31:154 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.update     : ==>  Preparing: UPDATE pay_order SET status=?,pay_success_time=? WHERE (id = ? AND status IN (?,?))
08:02:31:155 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.update     : ==> Parameters: 3(Integer), 2024-08-19T08:02:31.147082600(LocalDateTime), 1825322388665999361(Long), 0(Integer), 1(Integer)
08:02:31:158 DEBUG 8428 --- [http-nio-8085-exec-2] c.h.pay.mapper.PayOrderMapper.update     : <==    Updates: 1
08:02:31:550  INFO 8428 --- [nacos-grpc-client-executor-12] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Receive server push request, request = NotifySubscriberRequest, requestId = 189
08:02:31:550  INFO 8428 --- [nacos-grpc-client-executor-12] com.alibaba.nacos.common.remote.client   : [649be8ea-f0ab-4cd8-a256-01f2185c9e05] Ack server push request, request = NotifySubscriberRequest, requestId = 189
08:02:33:656 DEBUG 8428 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:02:33:656 DEBUG 8428 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825322385931288578(Long)
08:02:33:659 DEBUG 8428 --- [http-nio-8085-exec-3] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 1
08:05:26:854 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:05:26:855 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825323150422884353(Long)
08:05:26:857 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
08:05:26:858 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
08:05:26:858 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1825323151576342531(Long), 1825323150422884353(Long), 1825323151576342530(Long), 1(Long), balance(String), 12800(Integer), 5(Integer), 1(Integer), 2024-08-19T10:05:26.857657800(LocalDateTime)
08:05:26:863 DEBUG 8428 --- [http-nio-8085-exec-6] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
08:05:35:900 DEBUG 8428 --- [http-nio-8085-exec-7] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
08:05:35:900 DEBUG 8428 --- [http-nio-8085-exec-7] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1825323150422884353(Long)
08:05:35:901 DEBUG 8428 --- [http-nio-8085-exec-7] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 1
08:05:41:249 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.p.mapper.PayOrderMapper.selectById   : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE id=?
08:05:41:249 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.p.mapper.PayOrderMapper.selectById   : ==> Parameters: 1825323151576342531(Long)
08:05:41:251 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.p.mapper.PayOrderMapper.selectById   : <==      Total: 1
08:05:41:251 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> PUT http://user-service/users/money/deduct?pw=123&amount=12800 HTTP/1.1
08:05:41:251 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] user-info: 1
08:05:41:252 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> END HTTP (0-byte body)
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- HTTP/1.1 200 (81ms)
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] connection: keep-alive
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] content-length: 0
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] date: Mon, 19 Aug 2024 00:05:41 GMT
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] keep-alive: timeout=60
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] 
08:05:41:334 DEBUG 8428 --- [http-nio-8085-exec-8] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- END HTTP (0-byte body)
08:05:41:337 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.pay.mapper.PayOrderMapper.update     : ==>  Preparing: UPDATE pay_order SET status=?,pay_success_time=? WHERE (id = ? AND status IN (?,?))
08:05:41:337 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.pay.mapper.PayOrderMapper.update     : ==> Parameters: 3(Integer), 2024-08-19T08:05:41.334309200(LocalDateTime), 1825323151576342531(Long), 0(Integer), 1(Integer)
08:05:41:339 DEBUG 8428 --- [http-nio-8085-exec-8] c.h.pay.mapper.PayOrderMapper.update     : <==    Updates: 1
08:12:31:687  WARN 8428 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
08:12:31:686  WARN 8428 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
08:12:31:687  WARN 8428 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
08:12:31:687  WARN 8428 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
08:12:31:731  INFO 8428 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
08:12:31:740  INFO 8428 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
08:12:32:052  INFO 8428 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
08:12:32:052  INFO 8428 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5c3f9618[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
08:12:32:052  INFO 8428 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1723640463205_192.168.10.1_54916
08:12:32:054  INFO 8428 --- [nacos-grpc-client-executor-145] c.a.n.c.remote.client.grpc.GrpcClient    : [1723640463205_192.168.10.1_54916]Ignore complete event,isRunning:false,isAbandon=false
08:12:32:056  INFO 8428 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@49ed3b76[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 146]
08:12:32:061  INFO 8428 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
08:12:32:073  INFO 8428 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]) will closed
08:12:32:078  INFO 8428 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x00a2a58e, L:/192.168.10.1:54901 ! R:/192.168.10.100:8099]) will closed
08:12:32:079  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]
08:12:32:079  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]
08:12:32:079  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]
08:12:32:080  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]
08:12:32:080  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]) will closed
08:12:32:080  INFO 8428 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xcb9d816d, L:/192.168.10.1:54905 ! R:/192.168.10.100:8099]) will closed
